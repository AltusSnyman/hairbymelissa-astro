---
import Layout from '../layouts/Layout.astro';

const galleryImages = [
  {
    id: 1,
    src: "/images/optimized/blonde-balayage_800.webp",
    alt: "Beautiful blonde balayage transformation",
    category: "balayage"
  },
  {
    id: 2,
    src: "/images/optimized/dimensional-highlights_800.webp",
    alt: "Stunning highlights with dimension",
    category: "highlights"
  },
  {
    id: 3,
    src: "/images/optimized/hair-care-general_800.webp",
    alt: "Rich brunette color with shine",
    category: "color"
  },
  {
    id: 4,
    src: "/images/optimized/updo-styling_800.webp",
    alt: "Elegant updo styling for special occasions",
    category: "styling"
  },
  {
    id: 5,
    src: "/images/optimized/professional-blowdry_800.webp",
    alt: "Perfect toner results removing brassiness",
    category: "color"
  },
  {
    id: 6,
    src: "/images/optimized/natural-balayage_800.webp",
    alt: "Natural sun-kissed balayage",
    category: "balayage"
  },
  {
    id: 7,
    src: "/images/optimized/color-transformation_800.webp",
    alt: "Vibrant color transformation",
    category: "color"
  },
  {
    id: 8,
    src: "/images/optimized/blow-wave-styling_800.webp",
    alt: "Professional blow wave with volume",
    category: "styling"
  },
  {
    id: 9,
    src: "/images/optimized/foil-highlights_800.webp",
    alt: "Gorgeous foil highlights throughout",
    category: "highlights"
  },
  {
    id: 10,
    src: "/images/optimized/keratin-treatment_800.webp",
    alt: "Keratin treatment smooth results",
    category: "treatments"
  },
  {
    id: 11,
    src: "/images/optimized/balayage-transformation_800.webp",
    alt: "Beautiful color correction and repair",
    category: "color"
  },
  {
    id: 12,
    src: "/images/optimized/highlights-before-after_800.webp",
    alt: "Full head highlights with depth",
    category: "highlights"
  },
  {
    id: 13,
    src: "/images/optimized/melissa-professional_800.webp",
    alt: "Melissa at work creating beautiful hair",
    category: "salon"
  },
  {
    id: 14,
    src: "/images/optimized/salon-interior_800.webp",
    alt: "Stunning bridal hair styling",
    category: "styling"
  }
];

const categories = [
  { id: "all", name: "All Work" },
  { id: "balayage", name: "Balayage" },
  { id: "highlights", name: "Highlights" },
  { id: "color", name: "Color" },
  { id: "styling", name: "Styling" },
  { id: "treatments", name: "Treatments" },
  { id: "salon", name: "Salon" }
];
---

<Layout title="Gallery">
  <!-- Hero Section -->
  <section class="relative pt-32 pb-20 overflow-hidden">
    <!-- Background Layer with Parallax -->
    <div 
      class="absolute inset-0 parallax-bg"
      style="background-image: url('/images/optimized/highlights-before-after_800.webp'); background-size: cover; background-position: center; background-repeat: no-repeat;"
      data-speed="0.5"
    ></div>
    
    <!-- Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"></div>
    
    <!-- Animated Blob -->
    <div class="absolute top-10 right-20 w-72 h-72 bg-gradient-to-br from-[#1EAEDB]/20 to-[#FFDEE2]/20 rounded-full morph-blob blur-3xl"></div>
    
    <div class="container-custom relative z-10">
      <div class="max-w-2xl animate-fade-in">
        <h1 class="text-5xl font-bold text-white leading-tight">
          Our Work Gallery
        </h1>
        <p class="text-xl text-white mt-6">
          Browse through our portfolio of stunning transformations and find inspiration for your next look
        </p>
      </div>
    </div>
  </section>

  <!-- Gallery Section -->
  <section class="bg-white py-20">
    <div class="container-custom">
      <!-- Filter Buttons -->
      <div class="flex flex-wrap justify-center gap-4 mb-12">
        {categories.map((category) => (
          <button
            data-filter={category.id}
            class="filter-btn px-6 py-3 rounded-full font-medium transition-all duration-300 hover:scale-105 magnetic-hover"
            class:list={[
              category.id === 'all' ? 'bg-[#1EAEDB] text-white glow-hover' : 'glass-card text-gray-700 hover:bg-[#D3E4FD]'
            ]}
          >
            {category.name}
          </button>
        ))}
      </div>

      <!-- Gallery Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="gallery-grid">
        {galleryImages.map((image, index) => (
          <div 
            class="gallery-item group relative overflow-hidden rounded-lg cursor-pointer animate-scale glass-card"
            data-category={image.category}
            style={`animation-delay: ${index * 50}ms`}
          >
            <img
              src={image.src}
              alt={image.alt}
              class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"
              loading="lazy"
            />
            <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center">
              <svg class="h-12 w-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <m21 21-4.35-4.35"></line>
                <line x1="11" y1="8" x2="11" y2="14"></line>
                <line x1="8" y1="11" x2="14" y2="11"></line>
              </svg>
            </div>
          </div>
        ))}
      </div>

      <!-- Load More Button -->
      <div class="text-center mt-12">
        <button class="btn-primary">
          View More Work
        </button>
      </div>
    </div>
  </section>

  <!-- Instagram CTA -->
  <section class="bg-[#F8F9FA] py-20">
    <div class="container-custom text-center">
      <h2 class="text-4xl font-bold mb-6">Follow Us for Daily Inspiration</h2>
      <p class="text-xl text-gray-700 mb-8 max-w-2xl mx-auto">
        See our latest work, styling tips, and behind-the-scenes content on our social media channels
      </p>
      <div class="flex gap-6 justify-center">
        <a href="#" class="group">
          <div class="bg-white rounded-full p-4 shadow-lg group-hover:shadow-xl transition-shadow duration-300">
            <svg class="h-8 w-8 text-[#1EAEDB]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
              <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
            </svg>
          </div>
        </a>
        <a href="#" class="group">
          <div class="bg-white rounded-full p-4 shadow-lg group-hover:shadow-xl transition-shadow duration-300">
            <svg class="h-8 w-8 text-[#1EAEDB]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
            </svg>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden items-center justify-center p-4">
    <button id="close-lightbox" class="absolute top-4 right-4 text-white hover:text-gray-300">
      <svg class="h-8 w-8" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
    <img id="lightbox-img" src="" alt="" class="max-w-full max-h-full rounded-lg" />
  </div>
</Layout>

<style>
  .gallery-item {
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
  }
  
  .gallery-item.hidden {
    display: none;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }
</style>

<script>
  // Filter functionality
  const filterButtons = document.querySelectorAll('.filter-btn');
  const galleryItems = document.querySelectorAll('.gallery-item');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      const filter = button.getAttribute('data-filter');
      
      // Update active button styles
      filterButtons.forEach(btn => {
        btn.classList.remove('bg-[#1EAEDB]', 'text-white');
        btn.classList.add('bg-[#F8F9FA]', 'text-gray-700');
      });
      button.classList.remove('bg-[#F8F9FA]', 'text-gray-700');
      button.classList.add('bg-[#1EAEDB]', 'text-white');
      
      // Filter items
      galleryItems.forEach(item => {
        if (filter === 'all' || item.getAttribute('data-category') === filter) {
          item.classList.remove('hidden');
        } else {
          item.classList.add('hidden');
        }
      });
    });
  });
  
  // Lightbox functionality
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightbox-img');
  const closeLightbox = document.getElementById('close-lightbox');
  
  galleryItems.forEach(item => {
    item.addEventListener('click', () => {
      const img = item.querySelector('img');
      if (lightboxImg && img) {
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt;
      }
      lightbox?.classList.remove('hidden');
      lightbox?.classList.add('flex');
    });
  });
  
  closeLightbox?.addEventListener('click', () => {
    lightbox?.classList.add('hidden');
    lightbox?.classList.remove('flex');
  });
  
  lightbox?.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      lightbox.classList.add('hidden');
      lightbox.classList.remove('flex');
    }
  });
</script>